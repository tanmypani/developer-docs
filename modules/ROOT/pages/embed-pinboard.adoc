= Embed a Liveboard
:toc: true
:toclevels: 2

:page-title: Embed Liveboards
:page-pageid: embed-liveboard
:page-description: You can use the LiveboardEmbed SDK library to embed a ThoughtSpot Liveboard in your app and use it for live insights

This page explains how to embed a ThoughtSpot Liveboard in your Web page, portal, or application.

A ThoughtSpot Liveboard is an interactive dashboard that presents a collection of visualizations pinned by a user.

== Import the LiveboardEmbed package

Import the `LiveboardEmbed` SDK library to your application environment:

**npm**
[source,JavaScript]
----
import {
    LiveboardEmbed,
    AuthType,
    init,
    prefetch,
    EmbedEvent
}
from '@thoughtspot/visual-embed-sdk';
----

**ES6**
[source,JavaScript]
----
<script type = 'module'>
    import {
        LiveboardEmbed,
        AuthType,
        init,
        prefetch
    }
from 'https://cdn.jsdelivr.net/npm/@thoughtspot/visual-embed-sdk/dist/tsembed.es.js';
----

== Initialize the SDK

xref:getting-started.adoc#initSdk[Initialize the SDK] and define authentication attributes.

== Create an instance of the LiveboardEmbed class

[source,JavaScript]
----
const liveboardEmbed = new LiveboardEmbed(document.getElementById('ts-embed'), {
    frameParams: {
        width: '100%',
        height: '100%',
    },
    liveboardId: '<%=liveboardGUID%>',
});
----
For more information about the Liveboard embed object, classes, methods, interface properties, and enumeration members, see the following pages:

* xref:LiveboardEmbed.adoc[LiveboardEmbed]
* xref:LiveboardViewConfig.adoc[LiveboardViewConfig]
* xref:Action.adoc[Actions]

== Register, handle, and trigger events

Register event listeners.

[source,JavaScript]
----
liveboardEmbed.on(EmbedEvent.init, showLoader)
liveboardEmbed.on(EmbedEvent.load, hideLoader)
----

For more information about events, see the following pages:

* xref:HostEvent.adoc[HostEvent]
* xref:EmbedEvent.adoc[EmbedEvent]
* xref:embed-events.adoc[Events and app integration]

== Render the embedded Liveboard

Render the embedded Liveboard.

[source,JavaScript]
----
liveboardEmbed.render();
----

== Verify the embedded object
. Load the embedded object in your app. If the embedding is successful, you will see a Liveboard page with visualizations.
+
[.bordered]
image::./images/embed-lb.png[Liveboard embed]

. Explore the charts and tables, and verify if objects render and show the desired data.

[#lbv2]
== Liveboard experience modes

ThoughtSpot Liveboards support the following modes:

* New experience mode (Default)
* Classic experience mode
+
The new Liveboard experience can be turned off or on using the `liveboardV2` parameter in the `LiveboardEmbed` SDK. By default, the new Liveboard experience is enabled in the SDK and this setting takes precedence over the setting applied at the cluster level in the `Admin` tab.

The new Liveboard experience provides an improved interface with several new features and enhancements. The following figure shows the menu actions available on a Liveboard page in each mode: +
[.bordered]
[.widthAuto]
image:./images/liveboard-exp-diff.png[Liveboard experience comparison]


Note the following enhancements in the new New Experience mode:

* Liveboard edit +
To edit a Liveboard in the new experience mode, click the *Edit* button on the Liveboard page. For example, to delete a visualization on a Liveboard, the user must click *Edit*, and then navigate to the *Delete* option on a visualization.

* Filter application in the new experience mode +
To apply filters, the application users must switch to the edit mode. Only users with edit access to the Liveboard can apply filters. When a user creates a copy of a Liveboard, the filters applied on its visualizations are also copied. For more information about Liveboard filters, see link:https://docs.thoughtspot.com/cloud/latest/liveboard-filters[Liveboard filter configuration options, window=_blank].
* Actions +
The following actions are deprecated in the new experience mode:
** The *Copy embed link* and *Copy link* menu actions in the More image:./images/icon-more-10px.png[the more options menu] menu of a Liveboard
** The edit title icon on visualization tiles
** The *Share* button on visualizations

=== Liveboard tabs

The new Liveboard experience allows you to organize your visualizations into tabs. Liveboard tabs allow you to logically group visualization into specific categories and allow users to access them easily.

To create, edit, or move visualizations to a tab, you require edit access to a Liveboard.

* To add a tab, click *Edit* and then click *Add tab* on the Liveboard page.
* To add a visualization to a tab on a Liveboard, click *Move to tab* from the More image:./images/icon-more-10px.png[the more options menu] menu.
+
You can also pin a visualization to a Liveboard tab using the **Pin** action on the Answer page.

==== Set a tab as an active tab

By default, the first tab created on a Liveboard is set as the home tab. You can set any tab as an active tab using the `activeTabId` property in the Visual Embed SDK as shown in the example here:

[source,JavaScript]
----
const liveboardEmbed = new LiveboardEmbed(document.getElementById('ts-embed'), {
    frameParams: {
        width: '100%',
        height: '100%',
    },
    liveboardV2: true,
    liveboardId: "d7a5a08e-a1f7-4850-aeb7-0764692855b8",
    activeTabId: "05406350-44ce-488e-abc5-5e8cdd65cf3c",
});
----

[NOTE]
====
The `activeTabId` property is available only in the `LiveboardEmbed` package and is not supported in the full application embed mode.
====

[#noteTiles]
=== Note tiles
You can add a link:https://docs.thoughtspot.com/cloud/latest/liveboard-notes[Liveboard Note tile, window=_blank] with custom text, images, and links on an embedded Liveboard.

* Only users with edit access to a Liveboard can add a Note tile.
* Users require `Can upload data` privilege can upload an image to the note tile.
* If you are adding links and images from an external site, or embedding multimedia or web page in an iFrame, make sure the URLs are added to CORS and CSP allowlists. For more information, see xref:security-settings.adoc[Security settings].

=== Commenting on Liveboards
Users on a non-embedded ThoughtSpot application instance can add comments, reply to comments, or subscribe to comment threads on a Liveboard. However, if the Liveboard is embedded in another application, the comment icon will not be visible to the embedded application users regardless of their access privileges.

== Additional resources
* For information about runtime overrides, see xref:runtime-filters.adoc[Runtime filters] and xref:runtime-parameters.adoc[Runtime Parameter overrides].
* For code examples, see xref:code-samples.adoc[Code samples].
* For more information about the SDK APIs and attributes, see xref:VisualEmbedSdk.adoc[Visual Embed SDK Reference Guide].
