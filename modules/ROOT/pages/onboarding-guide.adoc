= Get Started with embedding
:toc: true
:linkattrs:
:sectanchors:


:page-title: Get started with embedding
:page-pageid: onboaring-guide
:page-description: Get started with embedding thoughtSpot component in your app.

Let's get started with embedding a ThoughtSpot component in your application using the Visual Embed SDK.

== Before you begin

+++<span class="homeBullet greyLightBackground">✓</span>+++ Do you have access to your ThoughtSpot instance? +
__To embed ThoughtSpot content in your app, you need admin or *Has Developer privilege* privilege (DEVELOPER access). If not, please ask your administrator to grant you the privileges required to embed.__

+++<span class="homeBullet greyLightBackground">✓</span>+++ Do you have license to embed ThoughtSpot in your app? +
__If not, contact your ThoughtSpot Sales Representative.__

+++<span class="homeBullet greyLightBackground">✓</span>+++ Have you connected ThoughtSpot to a Data Warehouse, created the required data objects or Worksheets? +
__If you are embedding Liveboard or ThoughtSpot Search, make sure these objects are available on your instance.__

+++<span class="homeBullet greyLightBackground">✓</span>+++ Have you added your application domain to the CSP and CORS allowlist? +
__If not, go to *Develop* > *Customizations* > *Security Settings* page and xref:security-settings.adoc#csp-cors-hosts[add your domain host].__


== Step 1: Install the Visual Embed SDK

Install the Visual Embed SDK. The latest version of the Visual Embed SDK is available at link:https://www.npmjs.com/package/@thoughtspot/visual-embed-sdk[https://www.npmjs.com/package/@thoughtspot/visual-embed-sdk, window=_blank].

[source,console]
----
npm install @thoughtspot/visual-embed-sdk
----

== Step 2: Import the SDK in to your project

Import the SDK package to your application environment. Let's import the `LiveboardEmbed` SDK package to embed your Liveboard.

[source,JavaScript]
----
// ESM via NPM
import * as TsEmbedSDK from '@thoughtspot/visual-embed-sdk';
// OR
import { LiveboardEmbed } from '@thoughtspot/visual-embed-sdk';

// NPM <script>
<script src="https://cdn.jsdelivr.net/npm/@thoughtspot/visual-embed-sdk/dist/tsembed.js"></script>;
// Make the SDK available on global namespace window.tsembed

// ES6 from web
import {
    LiveboardEmbed,
    AuthType,
    init,
} from 'https://cdn.jsdelivr.net/npm/@thoughtspot/visual-embed-sdk/dist/tsembed.es.js';
----

////
To embed Natural Language Search page, import the `SageEmbed` component::
+
[source,JavaScript]
----
// ESM via NPM
import * as TsEmbedSDK from '@thoughtspot/visual-embed-sdk';
// OR
import { LiveboardEmbed } from '@thoughtspot/visual-embed-sdk';

// NPM <script>
<script src="https://cdn.jsdelivr.net/npm/@thoughtspot/visual-embed-sdk/dist/tsembed.js"></script>;
// Make the SDK available on global namespace window.tsembed

// ES6 from web
import {
    SageEmbed,
    AuthType,
    init,
} from 'https://cdn.jsdelivr.net/npm/@thoughtspot/visual-embed-sdk/dist/tsembed.es.js';
----
////

[#initSdk]
== Step 3: Initialize the SDK
Add the hostname or IP address of your ThoughtSpot host and set the authentication type. The `authType` is one of the options you choose when preparing your environment. For testing purposes, you can set the `authType` as `AuthType.None`.

[source,JavaScript]
----
init({
    thoughtSpotHost: "https://<hostname>:<port>",
    authType: AuthType.None,
});
----

For other authentication options, see xref:embed-authentication.adoc[Authentication].

== Step 4: Embed the ThoughtSpot component

Use this code sample to embed a Liveboard. This example also shows the optional code to register event listeners and trigger events.

JavaScript::
[source,JavaScript]
----
import {
    LiveboardEmbed,
    EmbedEvent,
    HostEvent,
} from '@thoughtspot/visual-embed-sdk';

const lb = new LiveboardEmbed('#container', {
    frameParams: {
        width: '100%',
        height: '100%',
    },
    liveboardId: '22e79c21-eec4-40bf-997b-7454c6e3a2a5',
    runtimeFilters: [],
});
// [Optional]: Register event listeners.
lb.on(EmbedEvent.LiveboardRendered, (e) => {
    /* handler */
});

// Do not forget to call render.
lb.render();

// [Optional]: Trigger events on the Liveboard
lb.trigger(HostEvent.UpdateRuntimeFilters, [
    {
        columnName: 'item type',
        operator: RuntimeFilterOp.EQ,
        values: ['Jackets'],
    },
]);
----

In the above example, `#container` is a selector for the DOM node which the code assumes is already attached to DOM. The SDK will render the ThoughtSpot component inside this container element.

React::
[source,TypeScript]
----
import { LiveboardEmbed } from '@thoughtspot/visual-embed-sdk/react';

const App = () => {
    const embedRef = useEmbedRef();
    const onLiveboardRendered = () => {
        embedRef.current.trigger(HostEvent.UpdateRuntimeFilters, [
            {
                columnName: 'item type',
                operator: RuntimeFilterOp.EQ,
                values: ['Jackets'],
            },
        ]);
    };
    return (
        <LiveboardEmbed
            ref={embedRef}
            liveboardId="22e79c21-eec4-40bf-997b-7454c6e3a2a5"
            onLiveboardRendered={onLiveboardRendered}
        />
    );
};
----

For more information about events, see xref:HostEvent.adoc[HostEvent] and  xref:EmbedEvent.adoc[EmbedEvent].

== Step 5: Verify the embedded Liveboard

Load the embedded object in your app. If the embedding is successful, you will see a Liveboard page with visualizations.

[.bordered]
[.widthAuto]
image::./images/embed-lb.png[Liveboard embed]


== Need additional information?

* Instructions and code samples to embed other objects such as ThoughtSpot Search, Visualization, application Page, or full application, see these pages:
** xref:embed-search.adoc[Embed Search page]
** xref:embed-searchbar.adoc[Embed Search bar]
** xref:embed-pinboard.adoc[Embed a Liveboard]
** xref:embed-a-viz.adoc[Embed a Liveboard visualization]
** xref:full-embed.adoc[Embed full ThoughtSpot app]
** xref:embed-ts-react-app.adoc[Embed ThoughtSpot in a React app]
* Information about SDK components, methods, functions, object properties +
** xref:VisualEmbedSdk.adoc[Visual Embed SDK Reference Guide]
* FAQs and Troubleshooting
** xref:faqs.adoc[FAQs]
** xref:troubleshooting.adoc[Troubleshooting tips]
* GitHub Repository +
** link:https://github.com/thoughtspot/visual-embed-sdk/blob/main/README.md[https://github.com/thoughtspot/visual-embed-sdk, window=_blank]
** link:https://github.com/thoughtspot/ts_everywhere_resources[ThoughtSpot Everywhere Resources on GitHub, window=_blank]

